package tldb;

import com.tracelink.wv.common.model.query.QueryWithScope;
import com.tracelink.wv.common.util.QueryUtils;
import org.junit.Test;

public class QueryTest {

    @Test
    public void jsonToQwsTest() {
        String json = "{\"indexScopes\":[\"authorization-manager:solutionProvidesConfiguredPolicy#\"],\"predicates\":[{\"$type\":\"com.tracelink.wv.common.model.query.predicates.And\",\"operator\":\"AND\",\"clauses\":[{\"$type\":\"com.tracelink.wv.common.model.query.predicates.Or\",\"operator\":\"OR\",\"clauses\":[{\"$type\":\"com.tracelink.wv.common.model.query.terms.In\",\"variableExpression\":{\"name\":\"indexFromId\"},\"constants\":[{\"$type\":\"com.tracelink.wv.common.model.query.constants.WvText\",\"value\":\"c8d0dcc9-80c7-4966-a842-ebd01b07d4d1\"},{\"$type\":\"com.tracelink.wv.common.model.query.constants.WvText\",\"value\":\"6febedc3-0a41-4844-a7b1-4b13059f29eb\"},{\"$type\":\"com.tracelink.wv.common.model.query.constants.WvText\",\"value\":\"3a557967-af73-44bf-92d6-ad5df57b9765\"},{\"$type\":\"com.tracelink.wv.common.model.query.constants.WvText\",\"value\":\"be8b4c53-6f23-44fb-a82f-4ab4553d3439\"},{\"$type\":\"com.tracelink.wv.common.model.query.constants.WvText\",\"value\":\"5f522e44-4982-409a-9cdf-4cd3f86609bd\"},{\"$type\":\"com.tracelink.wv.common.model.query.constants.WvText\",\"value\":\"0f676b19-c1de-41d3-8ad6-246a54a00195\"},{\"$type\":\"com.tracelink.wv.common.model.query.constants.WvText\",\"value\":\"d3dc70bf-126c-4ce0-9f5d-c6ca19404979\"},{\"$type\":\"com.tracelink.wv.common.model.query.constants.WvText\",\"value\":\"892dde75-5943-4df0-be44-bb3021de6437\"},{\"$type\":\"com.tracelink.wv.common.model.query.constants.WvText\",\"value\":\"ae65fa06-ac4b-439f-9aef-0081ee61a039\"},{\"$type\":\"com.tracelink.wv.common.model.query.constants.WvText\",\"value\":\"25d71ebe-eff9-45f9-9986-056f0486fecd\"},{\"$type\":\"com.tracelink.wv.common.model.query.constants.WvText\",\"value\":\"01a9e7ab-3e62-4fbc-a3ba-ffcf691fd6a9\"},{\"$type\":\"com.tracelink.wv.common.model.query.constants.WvText\",\"value\":\"cb2f2da0-fc5f-4b14-90e0-550c4bfc91ab\"},{\"$type\":\"com.tracelink.wv.common.model.query.constants.WvText\",\"value\":\"e83a3046-1a11-4795-8490-d236bd6508ad\"},{\"$type\":\"com.tracelink.wv.common.model.query.constants.WvText\",\"value\":\"f0244560-bc55-463b-8b76-71437538ca89\"},{\"$type\":\"com.tracelink.wv.common.model.query.constants.WvText\",\"value\":\"a51d171a-3dfb-4cb6-b4d8-e1670a7e95ac\"}],\"keys\":[[99,56,100,48,100,99,99,57,45,56,48,99,55,45,52,57,54,54,45,97,56,52,50,45,101,98,100,48,49,98,48,55,100,52,100,49],[54,102,101,98,101,100,99,51,45,48,97,52,49,45,52,56,52,52,45,97,55,98,49,45,52,98,49,51,48,53,57,102,50,57,101,98],[51,97,53,53,55,57,54,55,45,97,102,55,51,45,52,52,98,102,45,57,50,100,54,45,97,100,53,100,102,53,55,98,57,55,54,53],[98,101,56,98,52,99,53,51,45,54,102,50,51,45,52,52,102,98,45,97,56,50,102,45,52,97,98,52,53,53,51,100,51,52,51,57],[53,102,53,50,50,101,52,52,45,52,57,56,50,45,52,48,57,97,45,57,99,100,102,45,52,99,100,51,102,56,54,54,48,57,98,100],[48,102,54,55,54,98,49,57,45,99,49,100,101,45,52,49,100,51,45,56,97,100,54,45,50,52,54,97,53,52,97,48,48,49,57,53],[100,51,100,99,55,48,98,102,45,49,50,54,99,45,52,99,101,48,45,57,102,53,100,45,99,54,99,97,49,57,52,48,52,57,55,57],[56,57,50,100,100,101,55,53,45,53,57,52,51,45,52,100,102,48,45,98,101,52,52,45,98,98,51,48,50,49,100,101,54,52,51,55],[97,101,54,53,102,97,48,54,45,97,99,52,98,45,52,51,57,102,45,57,97,101,102,45,48,48,56,49,101,101,54,49,97,48,51,57],[50,53,100,55,49,101,98,101,45,101,102,102,57,45,52,53,102,57,45,57,57,56,54,45,48,53,54,102,48,52,56,54,102,101,99,100],[48,49,97,57,101,55,97,98,45,51,101,54,50,45,52,102,98,99,45,97,51,98,97,45,102,102,99,102,54,57,49,102,100,54,97,57],[99,98,50,102,50,100,97,48,45,102,99,53,102,45,52,98,49,52,45,57,48,101,48,45,53,53,48,99,52,98,102,99,57,49,97,98],[101,56,51,97,51,48,52,54,45,49,97,49,49,45,52,55,57,53,45,56,52,57,48,45,100,50,51,54,98,100,54,53,48,56,97,100],[102,48,50,52,52,53,54,48,45,98,99,53,53,45,52,54,51,98,45,56,98,55,54,45,55,49,52,51,55,53,51,56,99,97,56,57],[97,53,49,100,49,55,49,97,45,51,100,102,98,45,52,99,98,54,45,98,52,100,56,45,101,49,54,55,48,97,55,101,57,53,97,99]],\"origSchemaId\":\"authorization-manager:solutionProvidesConfiguredPolicy\",\"schemaId\":\"authorization-manager:solutionProvidesConfiguredPolicy\",\"indexName\":\"authorization-manager:solutionProvidesConfiguredPolicy_indexFromId\"}],\"isRoot\":false},{\"$type\":\"com.tracelink.wv.common.model.query.terms.Equals\",\"lowerBound\":[48,48,48,48,48,48,48,48,45,48,48,48,48,45,48,48,48,48,45,48,48,48,48,45,48,48,48,48,48,48,48,48,48,48,48,48],\"upperBound\":[48,48,48,48,48,48,48,48,45,48,48,48,48,45,48,48,48,48,45,48,48,48,48,45,48,48,48,48,48,48,48,48,48,48,48,48],\"schemaId\":\"authorization-manager:solutionProvidesConfiguredPolicy\",\"indexName\":\"authorization-manager:solutionProvidesConfiguredPolicy_indexOwnerId\"}],\"isRoot\":false}],\"maximumResults\":1000,\"pagingInfo\":\"\",\"keyFormat\":\"PRIMARY_KEY\"}";
        QueryWithScope queryWithScope = QueryUtils.fromJson(json, QueryWithScope.class);
        System.out.println(queryWithScope);
    }
}
